% You should not change anything in this file unless you really know
% what you are doing.
% \RequirePackage {ragged2e}
% \setlength{\parindent}{.5in}
% \usepackage{parskip}
% \setlength\RaggedRightParindent{0.5in}
\RequirePackage{graphicx}
\RequirePackage{algorithmic}
\RequirePackage{algorithm}
\RequirePackage{amsthm}
\RequirePackage{amsmath}
\RequirePackage{amsfonts}
\RequirePackage[body={8.5in, 11in}, top=1 in, left=1in, bottom=1in, right=1.0in, nohead]{geometry}
\RequirePackage{times}
\RequirePackage{cite}
\RequirePackage{url}
\RequirePackage{listings}
% \RequirePackage[final, colorlinks, linkcolor=black, citecolor=blue, urlcolor=blue]{hyperref}
\RequirePackage{titlesec}
\RequirePackage[titles]{tocloft}


% Prevent math from being upcased
% http://tex.stackexchange.com/questions/46525/preventing-makeuppercase-from-affecting-mathematics
\RequirePackage{textcase}

% Definition macros
\def\csc{Department of Computer Science}
\def\msu{Missouri State University}

% % sets spacing between paragraphs
% \parskip 2.5mm

% Clever referencing
\RequirePackage{cleveref}

% Caption setup
\RequirePackage{caption}
\captionsetup[table]{skip=2.50mm}

% double spacing
\RequirePackage[doublespacing]{setspace}
\doublespacing
\RequirePackage{xspace}


% Read and store student names in DB
\RequirePackage{datatool}
\DTLloaddb[noheader]{ThesisStudent}{parameters/student.txt}
\DTLloaddb[noheader]{Supervisor}{parameters/supervisor.txt}

% Thesis parameters
\def\thesisstudent{\input{parameters/student.txt}}
\def\thesisdate{\input{parameters/thesis_date.txt}}
\def\thesistitle{\input{parameters/thesis_title.txt}}
\def\thesiskeywords{\input{parameters/keywords.txt}}
\def\thesissupervisor{\input{parameters/supervisor.txt}}
\def\thesisdegree{Master of Science}

\renewcommand{\theequation}{\arabic{section}.\arabic{equation}}

\newfam\msbmfam
\font\twelvemsbm=msbm10 scaled
\magstep1\font\tenmsbm=msbm10
\textfont\msbmfam\twelvemsbm\scriptfont\msbmfam\tenmsbm
\def\msbm{\fam\msbmfam\twelvemsbm}

\def\RR{{\mathbb R}}
\def\CC{{\mathbb C}}
\def\NN{{\mathbb N}}
\def\ep{\varepsilon}
\def\iint{{\displaystyle{\int\!\!\int}}}

\def\curl{\mathop{\rm curl}\nolimits}
\def\div{{\rm div}}
\def\Div{{\rm Div}}
\def\im{\mathop{\rm Im}\nolimits}
\def\pv{\mathop{\rm p.v.}\nolimits}
\def\Null{\mathop{\rm Null}\nolimits}
\def\Tr{\mathop{\rm Tr}\nolimits}

\def\Vol{{\rm Vol}}
\def\diag{\rm diag}
\def\om{\Omega}
\def\Ombar{\overline{\Omega}}
\def\bd{{\partial\Omega}}
\def\gr{\nabla}
\def\qc{q_o}
\def\iavl{-\!\!\!\!\!\!\!\!\!\int}
\def\iav{-\!\!\!\!\!\!\int}
\def\half{{\textstyle \frac12}}

\newcommand{\dsp}{\displaystyle}
\newcommand{\ihat}{{\bf{i}}}
\newcommand{\jhat}{{\bf{j}}}
\newcommand{\khat}{{\bf{k}}}
\newcommand{\Fhat}{{\bf{F}}}

% HEADING STYLES
\newcommand*{\justifyheading}{\raggedright}
\newcommand*{\uppercasetitle}[1]{\MakeUppercase{#1}}
\newcommand*{\periodafter}[1]{#1.}
\newcommand*{\ulperiodafter}[1]{\underline{#1}.}

\renewcommand{\thechapter}{\arabic{chapter}}
\titleformat{\chapter}{\normalfont\bfseries\centering}{\thechapter}{.25cm}{\uppercasetitle}[]
\titlespacing{\chapter}{0.5\textwidth}{0pt}{12pt}

\renewcommand{\thesection}{\thechapter.\arabic{section}}
\titleformat{\section}{\normalfont\bfseries\justifyheading}{\thesection}{1em}{}[]
\titlespacing{\section}{0pt}{12pt}{5pt}

\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}
\titleformat{\subsection}[runin]{\normalfont\bfseries}{\thesubsection}{1em}{\periodafter}[]
\titlespacing{\subsection}{\the\parindent}{0pt}{6pt}

\renewcommand{\thesubsubsection}{\thesubsection.\arabic{subsubsection}}
\titleformat{\subsubsection}[runin]{\normalfont}{\thesubsubsection}{1em}{\ulperiodafter}[]
\titlespacing{\subsubsection}{\the\parindent}{0pt}{6pt}


% \doublespacing

\newtheoremstyle{newthm} % name
     {3pt}%      Space above
     {3pt}%      Space below
     {}%         Body font
     {}%         Indent amount (empty = no indent, \parindent = para indent)
     {\scshape}%         Thm head font
     {:}%        Punctuation after thm head
     {.5em}%     Space after thm head: " " = normal interword space; \newline = linebreak
     {}%         Thm head spec (can be left empty, meaning `normal')

\theoremstyle{newthm}
\newtheorem{lem}{LEMMA}[section]
\newtheorem{prop}[lem]{PROPOSITION}
\newtheorem{thm}[lem]{THEOREM}
\newtheorem{fact}[lem]{FACT}
\newtheorem{defn}[lem]{DEFINITION}
\newtheorem{cor}[lem]{COROLLARY}
\newtheorem{exm}[lem]{EXAMPLE}
\newtheorem{rem}[lem]{REMARK}
\newtheorem{con}[lem]{CONJECTURE}

%\numberwithin{thm}{chapter}
\newcommand{\g}{\text{G.E.}}
\newcommand{\degr}[1]{\text{deg}(#1)}
\newcommand{\bz}{\ensuremath{\mathbb{Z}}}
\newcommand{\bn}[1]{\ensuremath{\mathbb{N}_{\leq #1}}}
\newcommand{\zpn}{\ensuremath{\mathbb{Z}_{p^{n}}[x] }}
\newcommand{\zpnox}{\ensuremath{\mathbb{Z}_{p^{n}} }}
\newcommand{\zpt}{\ensuremath{\mathbb{Z}_{p^{2}}[x] }}
\newcommand{\zp}{\ensuremath{\mathbb{Z}_{p}[x] }}
\newcommand{\ldegr}[1]{\text{ldeg}(#1)}
\newcommand{\luv}[1]{\text{L}(#1)}
\newcommand{\lxtm}{\ensuremath{\L(x^{m}) }}


% sets leading space for paragraphs
\setlength{\parindent}{.5in}
% \setlength{\RaggedRightParindent}{\parindent}
\setlength{\footskip}{.4in}

% Thesis title page
\def\thesistitlepage{\input{titlepage.tex}}

% Thesis copyright page
\def\thesiscopyrightpage{\input{copyright.tex}}

% Thesis abstract page
\def\thesisabstractpage{\input{abstract.tex}}

% Thesis approval page
\def\thesisapprovalpage{\input{acceptance.tex}}

% Inclusion of lof and lot in toc
% \RequirePackage[nottoc,notbib, notlof, notlot]{tocbibind}
% \RequirePackage{tocloft}


\RequirePackage{etoolbox}
\newtoggle{suppress@lof}
\newtoggle{suppress@lot}
\newtoggle{suppress@lo@}

\def\suppresslistoftables{\global\toggletrue{suppress@lot}}
\def\suppresslistoffigures{\global\toggletrue{suppress@lof}}
\def\suppresslistofalgorithms{\global\toggletrue{suppress@lo@}}


\def\listsandtoc{
  % Table of contents
  \renewcommand{\contentsname}{TABLE OF CONTENTS}
  \renewcommand{\listfigurename}{LIST OF FIGURES}
  \renewcommand{\listtablename}{LIST OF TABLES}
  \renewcommand{\listalgorithmname}{LIST OF ALGORITHMS}
  \setcounter{secnumdepth}{5}
  \renewcommand{\cfttoctitlefont}{\normalfont\Large}% Remove \bfseries from ToC title
  \renewcommand{\cftchapfont}{}
  \renewcommand{\cftchappagefont}{}
  \renewcommand{\cftsecfont}{}% Remove \bfseries from section titles in ToC
  \renewcommand{\cftsecpagefont}{}% Remove \bfseries from section titles' page in ToC
  \renewcommand\cftchapdotsep{\cftdotsep}

  \begin{singlespace}
    \tableofcontents
  \end{singlespace}

  % List of tables, if not suppressed
  \cleardoublepage
  \listoftables

  % List of figures, if not suppressed
  \cleardoublepage
  \listoffigures

  % List of algorithms, if not suppressed
  \cleardoublepage
  \listofalgorithms
}

% Starting materials
\def\st@rtingm@teri@ls{
  \pagenumbering{roman}
  \thesistitlepage

  \cleardoublepage
  \thesiscopyrightpage

  \thesisabstractpage
  \cleardoublepage
  \thesisapprovalpage

  \cleardoublepage
  \input {acknowledgements.tex}

  \cleardoublepage
  \listsandtoc
}


% Fancy page style
\RequirePackage{fancyhdr}
\fancyhf{}
\renewcommand{\headrulewidth}{0 pt}
% \renewcommand{\footrulewidth}{0.0mm}
% \fancyheadoffset[R]{0.075\textwidth}
\fancyhead[C]{}
\fancyhead[L]{}
\fancyhead[R]{}
\fancyfoot[C]{\thepage}

% Starting materials
\AtBeginDocument{\st@rtingm@teri@ls
  \cleardoublepage
  \pagestyle{fancy}
  \pagenumbering{arabic}
  \setcounter{page}{1}
}

% For index creation
\RequirePackage{imakeidx}

% Versionn information at the end
\RequirePackage[nofancy,notoday]{rcsinfo}
\rcsInfo $Id: missouri_state_university.sty,v 1.3 2018/09/30 12:51:13 dipto Exp $
\RequirePackage{datetime}

\AtEndDocument{%
  \clearpage
  \pagestyle{plain}

  \begingroup

  \flushright

  \vspace*{0.0mm}
  \vfill\vfill\vfill\vfill\vfill
  \sffamily

  Generated using Graduate Thesis \LaTeX\xspace Template,
  Version~\rcsInfoRevision. \csc, \msu, Springfield, Missouri, USA.

  \bigskip

  \settimeformat{ampmtime}

  This thesis was generated on~\today\xspace at~\currenttime.

  \vfill

  \endgroup}



% MY STUFF ================================================


% CAPTIONS

% Equation captions
\DeclareCaptionType{capeq}
\captionsetup[capeq]{name=Equation, labelformat=simple, labelsep=colon}
% tables
\DeclareCaptionType{tblcap}
\captionsetup[tblcap]{name=Table, labelformat=simple, labelsep=colon}
% Code listings
\newfloat{lstfloat}{!ht}{lop}
\floatname{lstfloat}{Listing}

% Appendix items
% label counter
\newcounter{appxcounter}[section]
\DeclareCaptionLabelFormat{hyphen}{#1-\arabic{appxcounter}}
% Listings
\newfloat{appxlst}{H}{lop}
\floatname{appxlst}{appxlst}
\captionsetup[appxlst]{name=\thesection, labelformat=hyphen, labelsep=colon, list=no}
% Figures
\DeclareCaptionType{appxfig}
\captionsetup[appxfig]{name=\thesection, labelformat=hyphen, labelsep=colon, list=no}


% Code settings
\lstset{
  language=Scala,
  breaklines=true,
  basicstyle=\ttfamily,
  numbers=left,
  numberstyle=\footnotesize,
  stepnumber=1,
  numbersep=2.0mm,
  xleftmargin=0.25in}


% bibliography
\let\oldbibliography\thebibliography
\renewcommand{\thebibliography}[1]{%
  \oldbibliography{#1}%
  \singlespace
  \setlength{\itemsep}{12pt}%
}


\endinput
